<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta property="og:title" content="Apache Hop Architecture"> <meta property="og:description" content="The Hop architecture is very simple in essence: separate out any metadata from runtime code and tooling.
 Doing this, Hop aims to have a minimal installation footprint and wants to be stateless to facilitate execution on a variety of platforms like Spark and Flink, but also in a variety of scenarios like running in different life cycles such as development, test, acceptance, production, unit testing and continuous integration.
 The way these goals are achieved is by allowing orchestration workloads, defined in the broadest possible sense, to be defined as metadata."> <meta property="og:type" content="article"> <meta property="og:url" content="https://hop.apache.org/docs/architecture/"><meta property="og:image" content="https://hop.apache.org/img/hop-logo.png"><meta property="article:section" content="docs"> <meta property="article:published_time" content="2022-01-10T07:59:56&#43;02:00"> <meta property="article:modified_time" content="2022-01-10T07:59:56&#43;02:00"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="stylesheet" href="../../_/css/site-e3cda5e4ab.css"> <meta name="application-name" content="Apache Hop"> <link rel="manifest" href="../../site.webmanifest"> <title>Apache Hop Architecture - Hop</title> <link rel="canonical" href="../../docs/architecture/"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../../" title="Hop"><span>Hop</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item mobile-heading" href="../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../manual/latest/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../tech-manual/latest/">Technical Documentation</a> <a class="navbar-item" href="../../dev-manual/latest/">Developer Documentation</a> <a class="navbar-item" href="../../docs/architecture/">Architecture</a> <a class="navbar-item" href="../../docs/roadmap/">Roadmap</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/contributing/">Contributing</a> <a class="navbar-item" href="../../community/tools/">Tools</a> <a class="navbar-item" href="../../community/mailing-list/">Mailing Lists</a> <a class="navbar-item" href="../../community/events/">Events and User Groups</a> <a class="navbar-item" href="../../community/team/">Team</a> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="../../community/ethos/">Ethos</a> </div> </div> <a class="navbar-item mobile-heading" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Apache</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event" target="_blank">Events</a> <a class="navbar-item" href="https://www.apache.org/licenses/" target="_blank">License</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html" target="_blank">Thanks to our sponsors</a> <a class="navbar-item" href="https://www.apache.org/security/" target="_blank">Apache Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html" target="_blank">Become a sponsor</a> </div> </div> </div> </div> <div class="navbar-fill"></div> <div class="break-row"></div> <div class="navbar-item search hide-for-print"> <div id="search-field" class="field"> <input id="search-input" type="text" placeholder="Search the docs"> </div> </div> <div class="navbar-tools"> <a href="https://twitter.com/ApacheHop" title="Follow us on Twitter" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.5 8.778c-.441.196-.916.328-1.414.388.509-.305.898-.787 1.083-1.362-.476.282-1.003.487-1.564.597-.448-.479-1.089-.778-1.796-.778-1.59 0-2.758 1.483-2.399 3.023-2.045-.103-3.86-1.083-5.074-2.572-.645 1.106-.334 2.554.762 3.287-.403-.013-.782-.124-1.114-.308-.027 1.14.791 2.207 1.975 2.445-.346.094-.726.116-1.112.042.313.978 1.224 1.689 2.3 1.709-1.037.812-2.34 1.175-3.647 1.021 1.09.699 2.383 1.106 3.773 1.106 4.572 0 7.154-3.861 6.998-7.324.482-.346.899-.78 1.229-1.274z"/></svg></a> <a href="https://www.linkedin.com/company/apachehop/" title="Follow us on LinkedIn" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a> <a href="https://www.youtube.com/channel/UCGlcYslwe03Y2zbZ1W6DAGA" title="Subscribe to our YouTube channel" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path fill-rule="evenodd" d="M4.652 0h1.44l.988 3.702.916-3.702h1.454l-1.665 5.505v3.757h-1.431v-3.757l-1.702-5.505zm6.594 2.373c-1.119 0-1.861.74-1.861 1.835v3.349c0 1.204.629 1.831 1.861 1.831 1.022 0 1.826-.683 1.826-1.831v-3.349c0-1.069-.797-1.835-1.826-1.835zm.531 5.127c0 .372-.19.646-.532.646-.351 0-.554-.287-.554-.646v-3.179c0-.374.172-.651.529-.651.39 0 .557.269.557.651v3.179zm4.729-5.07v5.186c-.155.194-.5.512-.747.512-.271 0-.338-.186-.338-.46v-5.238h-1.27v5.71c0 .675.206 1.22.887 1.22.384 0 .918-.2 1.468-.853v.754h1.27v-6.831h-1.27zm2.203 13.858c-.448 0-.541.315-.541.763v.659h1.069v-.66c.001-.44-.092-.762-.528-.762zm-4.703.04c-.084.043-.167.109-.25.198v4.055c.099.106.194.182.287.229.197.1.485.107.619-.067.07-.092.105-.241.105-.449v-3.359c0-.22-.043-.386-.129-.5-.147-.193-.42-.214-.632-.107zm4.827-5.195c-2.604-.177-11.066-.177-13.666 0-2.814.192-3.146 1.892-3.167 6.367.021 4.467.35 6.175 3.167 6.367 2.6.177 11.062.177 13.666 0 2.814-.192 3.146-1.893 3.167-6.367-.021-4.467-.35-6.175-3.167-6.367zm-12.324 10.686h-1.363v-7.54h-1.41v-1.28h4.182v1.28h-1.41v7.54zm4.846 0h-1.21v-.718c-.223.265-.455.467-.696.605-.652.374-1.547.365-1.547-.955v-5.438h1.209v4.988c0 .262.063.438.322.438.236 0 .564-.303.711-.487v-4.939h1.21v6.506zm4.657-1.348c0 .805-.301 1.431-1.106 1.431-.443 0-.812-.162-1.149-.583v.5h-1.221v-8.82h1.221v2.84c.273-.333.644-.608 1.076-.608.886 0 1.18.749 1.18 1.631v3.609zm4.471-1.752h-2.314v1.228c0 .488.042.91.528.91.511 0 .541-.344.541-.91v-.452h1.245v.489c0 1.253-.538 2.013-1.813 2.013-1.155 0-1.746-.842-1.746-2.013v-2.921c0-1.129.746-1.914 1.837-1.914 1.161 0 1.721.738 1.721 1.914v1.656z"></path></svg></a> <a href="https://github.com/apache/hop/" title="Collaborate on GitHub" target="_blank"><svg focusable="false" class="brand-icon" width="30" height="30" viewBox="0 0 30 30"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <a id="top"></a> <div class="body"> <main> <div class="static toolbar"></div> <div class="content"> <article class="static doc docs"> <h1>Apache Hop Architecture </h1> <aside class="toc embedded"> <div class="toc-menu"> <h3>Contents</h3> <nav id="TableOfContents"></nav> </div> </aside> <div class="paragraph"> <p>The Hop architecture is very simple in essence: separate out any metadata from runtime code and tooling.</p> </div> <div class="paragraph"> <p>Doing this, Hop aims to have a minimal installation footprint and wants to be stateless to facilitate execution on a variety of platforms like Spark and Flink, but also in a variety of scenarios like running in different life cycles such as development, test, acceptance, production, unit testing and continuous integration.</p> </div> <div class="paragraph"> <p>The way these goals are achieved is by allowing orchestration workloads, defined in the broadest possible sense, to be defined as metadata. This metadata can then be expressed in various ways like an XML or JSON document, a database of any type or indeed a graphical user interface. The user interfaces delivered by this project needs to cover 100% of all functionality, removing the need for external editors or tools.</p> </div> <div class="paragraph"> <p>Apache Hop decided to use a single metadata interface for all expressions of metadata. Once orchestration metadata is defined we offer tools to execute as flexibly as possible: locally or remotely in the native Hop engine, on Apache Spark, Apache Flink or Google Cloud Dataflow through Apache Beam, with additional runtime engines like Apache Airflow planned for futre versions.</p> </div> <div class="paragraph"> <p><span class="image"><img src="../../img/apache-hop-architecture.png" alt="Apache Hop Architecture" width="75%"></span></p> </div> <div class="sect1"> <h2 id="_workflows_and_pipelines">Workflows and pipelines</h2> <div class="sectionbody"> <div class="paragraph"> <p>The core concepts and main file types in Hop are pipelines and workflows.</p> </div> <div class="paragraph"> <p><a href="https://hop.apache.org/manual/latest/pipeline/pipelines.html"><strong>Pipelines</strong></a> perform the heavy data lifting: in a pipeline, you read data from one or more sources, perform a number of operations (joins, lookups, filters and lots more) and finally write the processed data to one or more target platforms.</p> </div> <div class="paragraph"> <p>Pipelines are networks of <a href="https://hop.apache.org/manual/latest/pipeline/transforms.html">transforms</a>. Each transform reads from a data source, writes to a target platform or performs an operations on the data in the pipeline. The transforms in a pipeline all run in parallel and are connected through hops that pass data between connected transforms.</p> </div> <div class="paragraph"> <p><a href="https://hop.apache.org/manual/latest/workflow/workflows.html"><strong>Workflows</strong></a> take care of the orchestration work: prepare the environment, fetch remote files, perform error handling and executing child workflows and pipelines.</p> </div> <div class="paragraph"> <p>Workflows consist of a series of <a href="https://hop.apache.org/manual/latest/workflow/actions.html">actions</a> that are executed sequentially by default. The actions in a workflow do not operate on the data directly but return an exit code that can be used to determine the sequence of actions (through succes, failure or unconditional hops) to be followed in a workflow.</p> </div> </div> </div> <div class="sect1"> <h2 id="_apache_hop_engine">Apache Hop Engine</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Hop engine is designed to be as lightweight and as small as possible (but not smaller). The engine focuses on one thing and one thing only: execute workflows and pipelines through metadata.</p> </div> <div class="paragraph"> <p>All non-essential functionality is added through plugins. This includes all the actions in a workflow, all the transforms in a pipeline, all connections to relational and NoSQL databases, even the runtimes the workflows and pipelines run in.</p> </div> <div class="paragraph"> <p>The Hop engine is available through a number of clients that each serve their own purpose:</p> </div> <div class="ulist"> <ul> <li> <p><strong>Hop GUI</strong> is the visual IDE where data teams develop, test, run and debug workflows and pipelines.</p> </li> <li> <p><strong>Hop Run</strong> is the command line interface to run workflows and pipelines on headless servers, containers, kubernetes pods and so on</p> </li> <li> <p><strong>Hop Server</strong> is a lightweight web server to run workflows and pipelines remotely through a number of REST calls</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_metadata">Metadata</h2> <div class="sectionbody"> <div class="paragraph"> <p>Everything in Hop is defined as metadata: projects, environments, runtime configurations, even the workflows and pipelines themselves are defined as metadata. All metadata is stored in a project’s metadata folder, defined as JSON files, and integrates perfectly with version control systems.</p> </div> </div> </div> <div class="sect1"> <h2 id="_life_cycle_management">Life Cycle management</h2> <div class="sectionbody"> <div class="paragraph"> <p>Apache Hop recognizes that workflows and pipelines are the workhorses in any data engineering project, but are just one aspect in a data engineering and data orchestration project’s life cycle.</p> </div> <div class="paragraph"> <p>Apache Hop projects can be managed through the entire project life cycle environment through integrated version control, pipeline unit tests and integration with CI/CD platforms.</p> </div> <div class="sect2"> <h3 id="_projects_and_environments">Projects and environments</h3> <div class="paragraph"> <p>Projects and environments are cornerstones in Hop projects. All the metadata, workflows and pipelines are defined in a project. Environments allow a flexible decoupling between code and configuration. Where projects specify <em>how</em> data needs to be processed, environments specify <em>where</em> that information needs to be processed.</p> </div> <div class="paragraph"> <p>For example, a project can contain the definition of a database connection <code>sales</code> or a Spark cluster. In the environment, the data team decides which database the <code>sales</code> data will be read from or written to or which Spark cluster the code will run on.</p> </div> <div class="paragraph"> <p>Each project can be linked to multiple environment for e.g. local development, lab environments, CI/CD and ultimately acceptance and production environments.</p> </div> </div> <div class="sect2"> <h3 id="_run_configurations">Run Configurations</h3> <div class="paragraph"> <p>A run configuration is a plugin type in Apache Hop that determines where a given project, workflow or pipeline will be executed. Run configurations are designed to leverage the capabilities of platforms like Hop itself, Apache Beam and others.</p> </div> <div class="paragraph"> <p>These flexible run configurations allow Hop workflows and pipelines to be designed once and run anywhere, so data teams can follow the data to be processed where it makes most sense.</p> </div> </div> </div> </div> </article> <aside class="toc sidebar" data-title="Contents" data-levels="2"> <div class="toc-menu"></div> </aside> </div> </main> </div> <div class="footer-tools"> <a title="Improve this document, receive free virtual hugs &hearts;" href="https://github.com/apache/hop-website/edit/master/content/docs/architecture.adoc">Edit this Page</a> <a href="#top" title="Reach the top of the page">Back to top</a> </div> <footer> <div class="footer"> <dl> <dt>Overview</dt> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../manual/latest/">Getting started</a></dd> </dl> <dl> <dt>Community</dt> <dd><a target="_blank" href="https://github.com/apache/hop/issues">GitHub Issues</a></dd> <dd><a target="_blank" href="https://github.com/apache/hop/discussions">GitHub Discussions</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> </dl> <p> &copy; 2019-2024 <a href="http://www.apache.org/" target="blank">The Apache Software Fountation</a>, Licensed under the Apache <a href="https://apache.org/licenses/LICENSE-2.0" target="blank">License</a>.<br> Apache Hop, Apache, Hop, the Hop logo, and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation. All other products or name brands are trademarks of their respective holders, including The Apache Software Foundation.</p> </div> </footer> <script src="../../_/js/site-8bbb7a5250.js"></script> <script src="../../_/js/vendor/highlight-a243a7d07e.js"></script> <script src="./_/js/vendor/lunr.js"></script> <script src="./_/js/search-ui.js" id="search-ui-script" data-site-root-path="./" data-snippet-length="100" data-stylesheet="./_/css/search.css"></script> <script async src="./search-index.js"></script> <script> var _paq = window._paq = window._paq || [];
     
    _paq.push(['disableCookies']);  
     
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://analytics.apache.org/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '11']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })(); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Organization", "name": "Hop", "url": "https:\/\/hop.apache.org\/" , "sameAs": ["https://twitter.com/ApacheHop"] , "logo": "\/img\/hop-logo.svg" , "description": "Apache Hop - Hop Orchestration Platform" } </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1 , "item": { "@id": "https://hop.apache.org/", "name": "Hop" } },{ "@type": "ListItem", "position": 2 , "item": { "@id": "https://hop.apache.org/docs/", "name": "docs" } },{ "@type": "ListItem", "position": 3 , "item": { "@id": "https://hop.apache.org/docs/architecture/", "name": "architecture" } }] } </script> </body> </html> 
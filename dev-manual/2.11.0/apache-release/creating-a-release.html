<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Creating a release :: Apache Hop</title> <link rel="canonical" href="https://hop.apache.org/dev-manual/latest/apache-release/creating-a-release.html"> <meta name="description" content="This document includes the steps needed to be taken by the release manager to create a successful release candidate."> <meta name="generator" content="Antora 3.0.1"> <link rel="stylesheet" href="../../../_/css/site-e3cda5e4ab.css"> <meta property="og:title" content="Creating a release :: Apache Hop"> <meta property="og:description" content="This document includes the steps needed to be taken by the release manager to create a successful release candidate."> <meta property="og:type" content="article"> <meta property="og:url" content="https://hop.apache.org/dev-manual/latest/apache-release/creating-a-release.html"> <meta property="og:image" content="https://hop.apache.org/img/hop-logo.png"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../../.."><span>Apache Hop</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item mobile-heading" href="/../../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../../manual/latest/getting-started/">Getting started</a> <a class="navbar-item" href="../../../manual/latest/">User manual</a> <a class="navbar-item" href="../../../tech-manual/latest/">Technical Documentation</a> <a class="navbar-item" href="../../../dev-manual/latest/">Developer Documentation</a> <a class="navbar-item" href="../../../docs/architecture/">Architecture</a> <a class="navbar-item" href="../../../docs/roadmap/">Roadmap</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../../community/contributing/">Contributing</a> <a class="navbar-item" href="../../../community/tools/">Tools</a> <a class="navbar-item" href="../../../community/mailing-list/">Mailing Lists</a> <a class="navbar-item" href="../../../community/events/">Events and User Groups</a> <a class="navbar-item" href="../../../community/team/">Team</a> <a class="navbar-item" href="../../../community/support/">Support</a> <a class="navbar-item" href="../../../community/ethos/">Ethos</a> </div> </div> <a class="navbar-item mobile-heading" href="/../../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Apache</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event" target="_blank">Events</a> <a class="navbar-item" href="https://www.apache.org/licenses/" target="_blank">License</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html" target="_blank">Thanks to our sponsors</a> <a class="navbar-item" href="https://www.apache.org/security/" target="_blank">Apache Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html" target="_blank">Become a sponsor</a> </div> </div> </div> </div> <div class="navbar-fill"></div> <div class="break-row"></div> <div class="navbar-item search hide-for-print"> <div id="search-field" class="field"> <input id="search-input" type="text" placeholder="Search the docs"> </div> </div> <div class="navbar-tools"> <a href="https://twitter.com/ApacheHop" title="Follow us on Twitter" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.5 8.778c-.441.196-.916.328-1.414.388.509-.305.898-.787 1.083-1.362-.476.282-1.003.487-1.564.597-.448-.479-1.089-.778-1.796-.778-1.59 0-2.758 1.483-2.399 3.023-2.045-.103-3.86-1.083-5.074-2.572-.645 1.106-.334 2.554.762 3.287-.403-.013-.782-.124-1.114-.308-.027 1.14.791 2.207 1.975 2.445-.346.094-.726.116-1.112.042.313.978 1.224 1.689 2.3 1.709-1.037.812-2.34 1.175-3.647 1.021 1.09.699 2.383 1.106 3.773 1.106 4.572 0 7.154-3.861 6.998-7.324.482-.346.899-.78 1.229-1.274z"/></svg></a> <a href="https://www.linkedin.com/company/apachehop/" title="Follow us on LinkedIn" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a> <a href="https://www.youtube.com/channel/UCGlcYslwe03Y2zbZ1W6DAGA" title="Subscribe to our YouTube channel" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path fill-rule="evenodd" d="M4.652 0h1.44l.988 3.702.916-3.702h1.454l-1.665 5.505v3.757h-1.431v-3.757l-1.702-5.505zm6.594 2.373c-1.119 0-1.861.74-1.861 1.835v3.349c0 1.204.629 1.831 1.861 1.831 1.022 0 1.826-.683 1.826-1.831v-3.349c0-1.069-.797-1.835-1.826-1.835zm.531 5.127c0 .372-.19.646-.532.646-.351 0-.554-.287-.554-.646v-3.179c0-.374.172-.651.529-.651.39 0 .557.269.557.651v3.179zm4.729-5.07v5.186c-.155.194-.5.512-.747.512-.271 0-.338-.186-.338-.46v-5.238h-1.27v5.71c0 .675.206 1.22.887 1.22.384 0 .918-.2 1.468-.853v.754h1.27v-6.831h-1.27zm2.203 13.858c-.448 0-.541.315-.541.763v.659h1.069v-.66c.001-.44-.092-.762-.528-.762zm-4.703.04c-.084.043-.167.109-.25.198v4.055c.099.106.194.182.287.229.197.1.485.107.619-.067.07-.092.105-.241.105-.449v-3.359c0-.22-.043-.386-.129-.5-.147-.193-.42-.214-.632-.107zm4.827-5.195c-2.604-.177-11.066-.177-13.666 0-2.814.192-3.146 1.892-3.167 6.367.021 4.467.35 6.175 3.167 6.367 2.6.177 11.062.177 13.666 0 2.814-.192 3.146-1.893 3.167-6.367-.021-4.467-.35-6.175-3.167-6.367zm-12.324 10.686h-1.363v-7.54h-1.41v-1.28h4.182v1.28h-1.41v7.54zm4.846 0h-1.21v-.718c-.223.265-.455.467-.696.605-.652.374-1.547.365-1.547-.955v-5.438h1.209v4.988c0 .262.063.438.322.438.236 0 .564-.303.711-.487v-4.939h1.21v6.506zm4.657-1.348c0 .805-.301 1.431-1.106 1.431-.443 0-.812-.162-1.149-.583v.5h-1.221v-8.82h1.221v2.84c.273-.333.644-.608 1.076-.608.886 0 1.18.749 1.18 1.631v3.609zm4.471-1.752h-2.314v1.228c0 .488.042.91.528.91.511 0 .541-.344.541-.91v-.452h1.245v.489c0 1.253-.538 2.013-1.813 2.013-1.155 0-1.746-.842-1.746-2.013v-2.921c0-1.129.746-1.914 1.837-1.914 1.161 0 1.721.738 1.721 1.914v1.656z"></path></svg></a> <a href="https://github.com/apache/hop/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon" viewBox="0 0 22 22"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <a id="top"></a> <div class="body"> <div class="nav-container" data-component="dev-manual" data-version="2.11.0"> <aside class="nav"> <div class="panels"> <div class="nav-panel-menu is-active" data-panel="menu"> <nav class="nav-menu"> <h3 class="title"><a href="../index.html">Development Documentation</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../getting-started.html">Getting started</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../upgrading-to-20.html">Plugins Upgrades to 2.x</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../porting-kettle-plugins.html">Porting Kettle plugins</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../metadata-plugins.html">Metadata plugins</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../setup-dev-environment.html">Setting up your development environment</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../integration-testing.html">Integration testing</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../internationalisation.html">Internationalisation (i18n)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../plugin-development.html">Plugins Development</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../plugin-samples.html">Plugins Samples</a> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="../svg-files.html">SVG Files</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="../start-your-own-plugin.html">Creating your own plugin</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="index.html">Apache Release Process</a> <ul class="nav-list"> <li class="nav-item is-current-page" data-depth="2"> <a class="nav-link" href="creating-a-release.html">Creating a Release</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="promoting-a-release.html">Promoting a Release</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="checking-a-release.html">Checking a Release</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="../hopweb/index.html">Hop Web</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="../hopweb/developer-guide.html">Hop Web Developer Guide</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="../hopweb/hopweb-antipatterns.html">Hop Web Antipatterns</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="../sdk/index.html">SDK</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="../sdk/hop-sdk.html">The Hop SDK</a> </li> </ul> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title">Development Documentation</span> <span class="version">2.11.0</span> </div> <ul class="components"> <li class="component is-current"> <a class="title" href="../../latest/index.html">Development Documentation</a> <ul class="versions"> <li class="version"> <a href="../../next/index.html">2.18.0</a> </li> <li class="version is-latest"> <a href="../../latest/index.html">2.16.0</a> </li> <li class="version"> <a href="../../2.15.0/index.html">2.15.0</a> </li> <li class="version"> <a href="../../2.14.0/index.html">2.14.0</a> </li> <li class="version"> <a href="../../2.13.0/index.html">2.13.0</a> </li> <li class="version"> <a href="../../2.12.0/index.html">2.12.0</a> </li> <li class="version is-current"> <a href="../index.html">2.11.0</a> </li> <li class="version"> <a href="../../2.10.0/index.html">2.10.0</a> </li> <li class="version"> <a href="../../2.9.0/index.html">2.9.0</a> </li> <li class="version"> <a href="../../2.8.0/index.html">2.8.0</a> </li> <li class="version"> <a href="../../2.7.0/index.html">2.7.0</a> </li> <li class="version"> <a href="../../2.6.0/index.html">2.6.0</a> </li> <li class="version"> <a href="../../2.5.0/index.html">2.5.0</a> </li> </ul> </li> <li class="component"> <a class="title" href="../../../tech-manual/latest/index.html">Technical Documentation</a> <ul class="versions"> <li class="version"> <a href="../../../tech-manual/next/index.html">2.18.0</a> </li> <li class="version is-latest"> <a href="../../../tech-manual/latest/index.html">2.16.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.15.0/index.html">2.15.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.14.0/index.html">2.14.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.13.0/index.html">2.13.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.12.0/index.html">2.12.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.11.0/index.html">2.11.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.10.0/index.html">2.10.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.9.0/index.html">2.9.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.8.0/index.html">2.8.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.7.0/index.html">2.7.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.6.0/index.html">2.6.0</a> </li> <li class="version"> <a href="../../../tech-manual/2.5.0/index.html">2.5.0</a> </li> </ul> </li> <li class="component"> <a class="title" href="../../../manual/latest/index.html">User manual</a> <ul class="versions"> <li class="version"> <a href="../../../manual/next/index.html">2.18.0 (pre-release)</a> </li> <li class="version is-latest"> <a href="../../../manual/latest/index.html">2.16.0</a> </li> <li class="version"> <a href="../../../manual/2.15.0/index.html">2.15.0</a> </li> <li class="version"> <a href="../../../manual/2.14.0/index.html">2.14.0</a> </li> <li class="version"> <a href="../../../manual/2.13.0/index.html">2.13.0</a> </li> <li class="version"> <a href="../../../manual/2.12.0/index.html">2.12.0</a> </li> <li class="version"> <a href="../../../manual/2.11.0/index.html">2.11.0</a> </li> <li class="version"> <a href="../../../manual/2.10.0/index.html">2.10.0</a> </li> <li class="version"> <a href="../../../manual/2.9.0/index.html">2.9.0</a> </li> <li class="version"> <a href="../../../manual/2.8.0/index.html">2.8.0</a> </li> <li class="version"> <a href="../../../manual/2.7.0/index.html">2.7.0</a> </li> <li class="version"> <a href="../../../manual/2.6.0/index.html">2.6.0</a> </li> <li class="version"> <a href="../../../manual/2.5.0/index.html">2.5.0</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main class="article"> <nav class="toolbar"> <button class="nav-toggle"></button> <a href="../../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="../index.html">Development Documentation</a></li> <li><a href="index.html">Apache Release Process</a></li> <li><a href="creating-a-release.html">Creating a Release</a></li> </ul> </nav> <div class="page-versions"> <button class="version-menu-toggle" title="Show other versions of page">2.11.0</button> <div class="version-menu"> <a class="version" href="../../next/apache-release/creating-a-release.html">2.18.0</a> <a class="version" href="../../latest/apache-release/creating-a-release.html">2.16.0</a> <a class="version" href="../../2.15.0/apache-release/creating-a-release.html">2.15.0</a> <a class="version" href="../../2.14.0/apache-release/creating-a-release.html">2.14.0</a> <a class="version" href="../../2.13.0/apache-release/creating-a-release.html">2.13.0</a> <a class="version" href="../../2.12.0/apache-release/creating-a-release.html">2.12.0</a> <a class="version is-current" href="creating-a-release.html">2.11.0</a> <a class="version" href="../../2.10.0/apache-release/creating-a-release.html">2.10.0</a> <a class="version" href="../../2.9.0/apache-release/creating-a-release.html">2.9.0</a> <a class="version" href="../../2.8.0/apache-release/creating-a-release.html">2.8.0</a> <a class="version" href="../../2.7.0/apache-release/creating-a-release.html">2.7.0</a> <a class="version" href="../../2.6.0/apache-release/creating-a-release.html">2.6.0</a> <a class="version" href="../../2.5.0/apache-release/creating-a-release.html">2.5.0</a> </div> </div> <div class="edit-this-page"><a href="https://github.com/apache/hop/edit/release/2.11.0/docs/hop-dev-manual/modules/ROOT/pages/apache-release/creating-a-release.adoc">Edit this Page</a></div> </nav> <div class="content"> <aside class="toc sidebar" data-title="Contents" data-levels="2"> <div class="toc-menu"></div> </aside> <article class="doc"> <h1 class="page">Creating a release</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>This document includes the steps needed to be taken by the release manager to create a successful release candidate.</p> </div> </div> </div> <div class="sect1"> <h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2> <div class="sectionbody"> <div class="paragraph"> <p>Following items have to be completed once before you can start building and deploying a release.</p> </div> <div class="ulist"> <ul> <li> <p>Have Git installed</p> </li> <li> <p>Have SVN installed</p> </li> <li> <p>Have a valid GPG Key on your `@apache`mail address (see <a href="#CreatingAKey">Create key</a>)</p> <div class="ulist"> <ul> <li> <p>Add The key to the keys file (see <a href="#CreatingAKey">Create key</a>)</p> </li> <li> <p>Configure Maven (see <a href="#ConfigureMaven">Configure Maven</a>)</p> </li> </ul> </div> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_creating_the_release_candidate"><a class="anchor" href="#_creating_the_release_candidate"></a>Creating the release candidate</h2> <div class="sectionbody"> <div class="paragraph"> <p>When developing we are all using a fork of the Apache Hop code repository. For this process we will need to do a clone of the apache/hop repository.</p> </div> <div class="admonitionblock important"> <table> <tr> <td class="icon"> <i class="fa icon-important" title="Important"></i> </td> <td class="content"> We will be working on the main code branch be extra vigilant </td> </tr> </table> </div> <div class="sect2"> <h3 id="_clone_the_repository"><a class="anchor" href="#_clone_the_repository"></a>Clone the Repository</h3> <div class="listingblock"> <div class="content"> <pre>git clone  https://github.com/apache/hop.git apache_hop</pre> </div> </div> <div class="paragraph"> <p>If you already have the repository update the <code>main</code> branch to the latest version.</p> </div> </div> <div class="sect2"> <h3 id="_preparing_the_release"><a class="anchor" href="#_preparing_the_release"></a>Preparing the release</h3> <div class="ulist"> <ul> <li> <p>check you are using the correct java version <code>java -version</code></p> </li> <li> <p>Link GPG to your current terminal <code>export GPG_TTY=$(tty)</code> (not sure if needed on all OS)</p> </li> </ul> </div> <div class="paragraph"> <p>Build the software using the apache release profile</p> </div> <div class="listingblock"> <div class="content"> <pre>mvn clean install -Papache-release</pre> </div> </div> <div class="paragraph"> <p>we are going to use the <code>mvn release:prepare</code> command to prepare the release process</p> </div> <div class="paragraph"> <p>full command:</p> </div> <div class="listingblock"> <div class="content"> <pre>mvn release:prepare -Papache-release -DautoVersionSubmodules=true -DskipTests=true -DpushChanges=false -Darguments="-DskipTests=true -DpushChanges=false"</pre> </div> </div> <div class="paragraph"> <p>You will get following question:</p> </div> <div class="ulist"> <ul> <li> <p>What is the release version for "Hop Orchestration Platform"? (org.apache.hop:hop) 2.10.0: :</p> <div class="ulist"> <ul> <li> <p>Use the default suggestion</p> </li> </ul> </div> </li> <li> <p>What is SCM release tag or label for "Hop Orchestration Platform"? (org.apache.hop:hop) hop-2.10.0:</p> <div class="ulist"> <ul> <li> <p>Change the tag to <code>version-rcX</code> where x is 1 if it&#8217;s the first candidate</p> </li> </ul> </div> </li> <li> <p>What is the new development version for "Hop Orchestration Platform"? (org.apache.hop:hop) 2.2.1-SNAPSHOT:</p> <div class="ulist"> <ul> <li> <p>Set the next development version usually increase <code>minor version</code> with 1</p> </li> </ul> </div> </li> </ul> </div> <div class="paragraph"> <p>Once the build is finished you will have new commits and an extra tag. Push the commits to the main branch and push the new tag.</p> </div> <div class="listingblock"> <div class="content"> <pre>git push
git push origin tag &lt;tag_name&gt;</pre> </div> </div> </div> <div class="sect2"> <h3 id="_creating_a_branch_from_the_release_tag"><a class="anchor" href="#_creating_a_branch_from_the_release_tag"></a>Creating a branch from the release tag</h3> <div class="paragraph"> <p>Create a new branch from the pushed changes</p> </div> <div class="listingblock"> <div class="content"> <pre>git checkout -b release/&lt;release_version&gt; tags/&lt;tag_name&gt;</pre> </div> </div> <div class="paragraph"> <p>push the branch</p> </div> <div class="listingblock"> <div class="content"> <pre>git push origin release/&lt;release_version&gt;</pre> </div> </div> </div> <div class="sect2"> <h3 id="_perform_the_release"><a class="anchor" href="#_perform_the_release"></a>Perform the release</h3> <div class="listingblock"> <div class="content"> <pre>mvn release:perform -Papache-release -DautoVersionSubmodules=true -Dassemblies=false -DskipTests=true -DpushChanges=false -DautoVersionSubmodules=true -Darguments="-Dassemblies=false -DskipTests=true -DpushChanges=false"</pre> </div> </div> </div> <div class="sect2"> <h3 id="_nexus"><a class="anchor" href="#_nexus"></a>Nexus</h3> <div class="paragraph"> <p>After the <code>release:perform</code> operation a staging repository will have been created in Nexus. This will contain all the artifacts that will end up in Maven Central after we finished our voting process.</p> </div> <div class="ulist"> <ul> <li> <p>Go to the <a href="https://repository.apache.org/#stagingRepositories">Nexus staging repository</a> (Use your ASF credentials to log in)</p> </li> <li> <p>Find Staged release its name will be orgapachehop-&lt;number&gt;</p> </li> <li> <p>Do a quick check the repository contains the artifacts</p> </li> <li> <p>Select the repository and click on the Close button</p> </li> <li> <p>Description when closing: Prepare Apache Hop &lt;version&gt;-rc&lt;number&gt; release</p> </li> <li> <p>After a while, the status will go from open to closed</p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="_github"><a class="anchor" href="#_github"></a>GitHub</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="_create_a_pre_release_tag_on_github"><a class="anchor" href="#_create_a_pre_release_tag_on_github"></a>Create a pre-release tag on GitHub</h3> <div class="ulist"> <ul> <li> <p>Go to the <a href="https://github.com/apache/hop/releases">releases page</a> on GitHub</p> </li> <li> <p>Press Draft a new release</p> </li> <li> <p>Select the new tag and the previous version tag</p> </li> <li> <p>Release title is just the release version</p> </li> <li> <p>Hit Generate release notes</p> </li> <li> <p>Select the <code>Set as a pre-release</code> checkbox</p> </li> <li> <p>publish release</p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="_close_the_current_milestone"><a class="anchor" href="#_close_the_current_milestone"></a>Close the current milestone</h3> <div class="ulist"> <ul> <li> <p>Go to the <a href="https://github.com/apache/hop/milestones">milestones page</a> on gitHub</p> </li> <li> <p>Select the current milestone</p> </li> <li> <p>Move open tickets to the next milestone</p> </li> <li> <p>Select Edit milestone</p> </li> <li> <p>Select Close milestone</p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="_svn"><a class="anchor" href="#_svn"></a>SVN</h2> <div class="sectionbody"> <div class="paragraph"> <p>Now that all the staging is done, let&#8217;s prepare the SVN distribution.</p> </div> <div class="sect2"> <h3 id="_creating_the_release_artifacts"><a class="anchor" href="#_creating_the_release_artifacts"></a>Creating the release artifacts</h3> <div class="paragraph"> <p>Checkout the tag to a clean folder to avoid files that are ignored by git and remove the git folder. Next up is creating the tar.gz file</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir /tmp/release
cd /tmp/release
git clone --depth 1 --branch X.XX-rcX https://github.com/apache/hop.git apache-hop-X.XX
rm -rf apache-hop-X.XX/.git
tar -czvf apache-hop-X.XX-src.tar.gz apache-hop-X.XX</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_sign_the_artifacts"><a class="anchor" href="#_sign_the_artifacts"></a>Sign the artifacts</h3> <div class="paragraph"> <p>This part assumes you already have created and registered keys to sign the artifacts, for more information on creating and adding your keys see <a href="#CreatingAKey">here</a></p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">gpg --armor -u username@apache.org --output apache-hop-X.XX-src.tar.gz.asc --detach-sig apache-hop-X.XX-src.tar.gz
sha512sum apache-hop-X.XX-src.tar.gz &gt; apache-hop-X.XX-src.tar.gz.sha512

# Validate
gpg --verify apache-hop-X.XX-src.tar.gz.asc
sha512sum -c apache-hop-X.XX-src.tar.gz.sha512</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_creating_the_client"><a class="anchor" href="#_creating_the_client"></a>Creating the client</h3> <div class="paragraph"> <p>The client included in the release has to be build using the source code in the release. Use the source you just prepared to generate the client.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Copy source to temp build location
cd apache-hop-X.XX/

# Run Build
mvn -T 4 clean install -DskipTests=true

# Copy client back (and rename)
cp assemblies/client/target/hop-client-X.XX.zip ../apache-hop-client-X.XX.zip

# Go back to root of your working dir
cd ..</code></pre> </div> </div> <div class="paragraph"> <p>As we now added a new binary file we also need to sign and create a sha512 for it.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Create keyfile and sha512
gpg --armor -u username@apache.org --output apache-hop-client-X.XX.zip.asc --detach-sig apache-hop-client-X.XX.zip
sha512sum apache-hop-client-X.XX.zip &gt; apache-hop-client-X.XX.zip.sha512

# Validate
gpg --verify apache-hop-client-X.XX.zip.asc
sha512sum -c apache-hop-client-X.XX.zip.sha512</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_creating_the_helm_chart_if_needed"><a class="anchor" href="#_creating_the_helm_chart_if_needed"></a>Creating the Helm chart (if needed)</h3> <div class="paragraph"> <p>When changes have been made to the helm chart a new release of this artifact is also needed. This assumes helm has been installed.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Copy source to temp build location
cd apache-hop-X.XX/helm

# Run helm package
helm package hop

# Copy client back (and rename)
cp hop-X.XX.tgz ../../hop-X.XX.tgz

# Go back to root of your working dir
cd ../..</code></pre> </div> </div> <div class="paragraph"> <p>As we now added a new binary file we also need to sign and create a sha512 for it.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Create keyfile and sha512
gpg --armor -u username@apache.org --output hop-X.XX.tgz.asc --detach-sig hop-X.XX.tgz
sha512sum hop-X.XX.tgz &gt; hop-X.XX.tgz.sha512

# Validate
gpg --verify hop-X.XX.tgz.asc
sha512sum -c hop-X.XX.tgz.sha512</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_staging_the_files"><a class="anchor" href="#_staging_the_files"></a>Staging the files</h3> <div class="paragraph"> <p>First step is to check out the SVN directory, and create a new directory</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">svn co https://dist.apache.org/repos/dist/dev/hop hop_release
cd hop_release
svn mkdir apache-hop-x.xx-rcx</code></pre> </div> </div> <div class="paragraph"> <p>Now copy over the following files in this new directory</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">apache-hop-X.XX-src.tar.gz.sha512
apache-hop-X.XX-src.tar.gz.asc
apache-hop-X.XX-src.tar.gz
apache-hop-client-X.XX.zip.sha512
apache-hop-client-X.XX.zip.asc
apache-hop-client-X.XX.zip</code></pre> </div> </div> <div class="paragraph"> <p>Add and commit the files to svn</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd apache-hop-x.xx-rcx
svn add *
cd ..
svn status
svn commit -m 'Add release files for Apache hop X.XX-rcX'</code></pre> </div> </div> <div class="paragraph"> <p>Check if the files are uploaded <a href="https://dist.apache.org/repos/dist/dev/hop/">here</a></p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_sending_the_vote_mails"><a class="anchor" href="#_sending_the_vote_mails"></a>Sending the vote mails</h2> <div class="sectionbody"> <div class="paragraph"> <p>Send mail to dev list to announce new release candidate</p> </div> <div class="paragraph"> <p>Mail Template</p> </div> <div class="listingblock"> <div class="content"> <pre>Subject: [VOTE] Release Apache Hop X.XX-rcX
TO: dev@hop.apache.org

Hi All,

&lt;INCLUDE SOME TEXT&gt;

Build instructions can be found in the README included.

The tag to be voted on is X.XX-rcX &lt;REPLACE TAG&gt; (commit &lt;COMMIT HASH&gt;):
&lt;URL TO TAG COMMIT&gt;

The release files, including signatures, digests, etc. can be found at:
&lt;INCLUDE URL TO DIST RC FOLDER&gt;
https://dist.apache.org/repos/dist/dev/hop/apache-hop-X.XX-rcX/

The SHA512 Checksum for these artifacts is:
Source:
&lt;INCLUDE CHECKSUM FROM SHA512 file&gt;
client:
&lt;INCLUDE CHECKSUM FROM SHA512 file&gt;

Release artifacts are signed with the following key:
&lt;ADD URL TO YOUR KEY ON A PUBLIC KEYSERVER&gt;

For more information about the contents of this release, see:
&lt;ADD URL TO RELEASE IN GITHUB&gt;

Please vote on releasing this package as Apache Hop X.XX!

The vote is open for 72 hours and passes if
a majority of at least 3 +1 PMC votes are cast.

[ ] +1 Release this package as Apache Hop X.XX
[ ] +0 No opinion
[ ] -1 Do not release this package because ...

Best Regards,
&lt;YOUR NAME&gt;</pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_send_a_result_mail_to_the_dev_mailing_list"><a class="anchor" href="#_send_a_result_mail_to_the_dev_mailing_list"></a>Send a result mail to the dev mailing list</h2> <div class="sectionbody"> <div class="listingblock"> <div class="content"> <pre>Subject: [RESULT] [VOTE] Release Apache Hop X.XX-rcX
TO: dev@hop.apache.org

Hello Team,

The vote to release Apache Hop X.XX - RCX has passed/failed.

+1 (binding):

+1 (non-binding)

+0

-1 (binding)

-1 (non-binding)

Thank you for reviewing this release candidate.

Cheers,
&lt;YOUR NAME&gt;</pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_other_changes"><a class="anchor" href="#_other_changes"></a>Other changes</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="_change_documentation_version_in_release_branch"><a class="anchor" href="#_change_documentation_version_in_release_branch"></a>Change documentation version in release branch</h3> <div class="paragraph"> <p>Update following files and set the correct documentation version and name</p> </div> <div class="ulist"> <ul> <li> <p>docs/hop-user-manual/antora.yml</p> </li> <li> <p>docs/hop-tech-manual/antora.yml</p> </li> <li> <p>docs/hop-dev-manual/antora.yml</p> </li> </ul> </div> <div class="paragraph"> <p>Remove the <code>prerelease</code> and <code>display_version</code> attributes</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_creating_a_key"><a class="anchor" href="#_creating_a_key"></a><a id="CreatingAKey"></a>Creating a key</h2> <div class="sectionbody"> <div class="paragraph"> <p>To generate and publish a key follow these steps, it is recommended to use your apache email as key alias.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">gpg --gen-key
gpg -k &lt;username&gt;@apache.org
# get the ID for your key
gpg --send-keys --keyserver php.mit.edu &lt;KEY ID&gt;
gpg --send-keys --keyserver keyserver.ubuntu.com &lt;KEY ID&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Next step is to add your key to the key file in the Apache SVN repository.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">svn co https://dist.apache.org/repos/dist/dev/hop hop_release
cd hop_release
gpg --list-sigs &lt;keyID&gt; &gt;&gt; KEYS
gpg  --armor --export &lt;keyID&gt; &gt;&gt; KEYS
svn commit -m "added new public key to KEYS file"</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_configure_maven"><a class="anchor" href="#_configure_maven"></a><a id="ConfigureMaven"></a>Configure Maven</h2> <div class="sectionbody"> <div class="paragraph"> <p>To build and deploy to Apache resources you have to modify the settings.xml file located in your .m2 directory.</p> </div> <div class="paragraph"> <p>To do This you will first have to create a master password, this will be used to encrypt the other passwords.</p> </div> <div class="paragraph"> <p>Use following command to generate a master password:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn --encrypt-master-password</code></pre> </div> </div> <div class="paragraph"> <p>This command will produce an encrypted version of the password, something like</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">{jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=}</code></pre> </div> </div> <div class="paragraph"> <p>Store this password in the <code>${user.home}/.m2/settings-security.xml</code>; it should look like</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;settingsSecurity&gt;
    &lt;master&gt;{jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=}&lt;/master&gt;
&lt;/settingsSecurity&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Next up we have to configure the <code>${user.home}/.m2/settings.xml</code> file.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;servers&gt;
    &lt;!-- To publish a snapshot of your project --&gt;
    &lt;server&gt;
      &lt;id&gt;apache.snapshots.https&lt;/id&gt;
      &lt;username&gt;ApacheUserID&lt;/username&gt;
      &lt;!-- Your Apache password encrypted using mvn --encrypt-password command --&gt;
      &lt;password&gt;&lt;/password&gt;
    &lt;/server&gt;
    &lt;!-- To stage a release of your project --&gt;
    &lt;server&gt;
      &lt;id&gt;apache.releases.https&lt;/id&gt;
      &lt;username&gt;ApacheUserID&lt;/username&gt;
      &lt;!-- Your Apache password encrypted using mvn --encrypt-password command --&gt;
      &lt;password&gt;&lt;/password&gt;
    &lt;/server&gt;
  &lt;/servers&gt;

&lt;!-- To sign the artifacts during mvn release process --&gt;
&lt;profiles&gt;
    &lt;profile&gt;
      &lt;id&gt;my_profile_id&lt;/id&gt;
      &lt;activation&gt;
        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
      &lt;/activation&gt;
      &lt;properties&gt;
        &lt;!-- Key ID fetched using gpg --list-key --&gt;
        &lt;gpg.keyname&gt;0AFCA1919D19DAA60AB0BF94C4092203EB788658&lt;/gpg.keyname&gt;
        &lt;!-- Remove this for password prompt or fill in with password of the key (remove recommended) --&gt;
        &lt;gpg.passphrase&gt;&lt;/gpg.passphrase&gt;
      &lt;/properties&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;</code></pre> </div> </div> <div class="paragraph"> <p>for more information you can look at the <a href="https://maven.apache.org/guides/mini/guide-encryption.html">Maven documentation</a></p> </div> </div> </div> </article> </div> </main> </div> <footer> <div class="footer"> <dl> <dt>Overview</dt> <dd><a href="../../../download/">Download</a></dd> <dd><a href="../../../manual/latest/">Getting started</a></dd> </dl> <dl> <dt>Community</dt> <dd><a target="_blank" href="https://github.com/apache/hop/issues">GitHub Issues</a></dd> <dd><a target="_blank" href="https://github.com/apache/hop/discussions">GitHub Discussions</a></dd> <dd><a target="_blank" href="../../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> </dl> <p> &copy; 2019-2026 The Hop Team.<br> All marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../../_/js/site-8bbb7a5250.js"></script> <script async src="../../../_/js/vendor/highlight-a243a7d07e.js"></script> <script async src="../../../_/js/vendor/tabs-523d9bca0f.js"></script> <script src="../../../_/js/vendor/lunr.js"></script> <script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script> <script async src="../../../search-index.js"></script> <!-- Matomo --> <script> var _paq = window._paq = window._paq || [];
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);  
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '11']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })(); </script> <!-- End Matomo Code --> </body> </html> 
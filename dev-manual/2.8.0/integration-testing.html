<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Integration Testing :: Apache Hop</title> <link rel="canonical" href="https://hop.apache.org/dev-manual/latest/integration-testing.html"> <meta name="description" content="The Apache Hop team has created an integration testing framework that is being used to test key components of the software."> <meta name="generator" content="Antora 3.0.1"> <link rel="stylesheet" href="../../_/css/site-e3cda5e4ab.css"> <meta property="og:title" content="Integration Testing :: Apache Hop"> <meta property="og:description" content="The Apache Hop team has created an integration testing framework that is being used to test key components of the software."> <meta property="og:type" content="article"> <meta property="og:url" content="https://hop.apache.org/dev-manual/latest/integration-testing.html"> <meta property="og:image" content="https://hop.apache.org/img/hop-logo.png"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Hop</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item mobile-heading" href="/../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../manual/latest/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../tech-manual/latest/">Technical Documentation</a> <a class="navbar-item" href="../../dev-manual/latest/">Developer Documentation</a> <a class="navbar-item" href="../../docs/architecture/">Architecture</a> <a class="navbar-item" href="../../docs/roadmap/">Roadmap</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/contributing/">Contributing</a> <a class="navbar-item" href="../../community/tools/">Tools</a> <a class="navbar-item" href="../../community/mailing-list/">Mailing Lists</a> <a class="navbar-item" href="../../community/events/">Events and User Groups</a> <a class="navbar-item" href="../../community/team/">Team</a> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="../../community/ethos/">Ethos</a> </div> </div> <a class="navbar-item mobile-heading" href="/../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link mobile-heading" href="#">Apache</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event" target="_blank">Events</a> <a class="navbar-item" href="https://www.apache.org/licenses/" target="_blank">License</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html" target="_blank">Thanks to our sponsors</a> <a class="navbar-item" href="https://www.apache.org/security/" target="_blank">Apache Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html" target="_blank">Become a sponsor</a> </div> </div> </div> </div> <div class="navbar-fill"></div> <div class="break-row"></div> <div class="navbar-item search hide-for-print"> <div id="search-field" class="field"> <input id="search-input" type="text" placeholder="Search the docs"> </div> </div> <div class="navbar-tools"> <a href="https://twitter.com/ApacheHop" title="Follow us on Twitter" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.5 8.778c-.441.196-.916.328-1.414.388.509-.305.898-.787 1.083-1.362-.476.282-1.003.487-1.564.597-.448-.479-1.089-.778-1.796-.778-1.59 0-2.758 1.483-2.399 3.023-2.045-.103-3.86-1.083-5.074-2.572-.645 1.106-.334 2.554.762 3.287-.403-.013-.782-.124-1.114-.308-.027 1.14.791 2.207 1.975 2.445-.346.094-.726.116-1.112.042.313.978 1.224 1.689 2.3 1.709-1.037.812-2.34 1.175-3.647 1.021 1.09.699 2.383 1.106 3.773 1.106 4.572 0 7.154-3.861 6.998-7.324.482-.346.899-.78 1.229-1.274z"/></svg></a> <a href="https://www.linkedin.com/company/apachehop/" title="Follow us on LinkedIn" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a> <a href="https://www.youtube.com/channel/UCGlcYslwe03Y2zbZ1W6DAGA" title="Subscribe to our YouTube channel" target="_blank"><svg focusable="false" height="30" width="30" viewBox="0 0 30 30" class="brand-icon"><path fill-rule="evenodd" d="M4.652 0h1.44l.988 3.702.916-3.702h1.454l-1.665 5.505v3.757h-1.431v-3.757l-1.702-5.505zm6.594 2.373c-1.119 0-1.861.74-1.861 1.835v3.349c0 1.204.629 1.831 1.861 1.831 1.022 0 1.826-.683 1.826-1.831v-3.349c0-1.069-.797-1.835-1.826-1.835zm.531 5.127c0 .372-.19.646-.532.646-.351 0-.554-.287-.554-.646v-3.179c0-.374.172-.651.529-.651.39 0 .557.269.557.651v3.179zm4.729-5.07v5.186c-.155.194-.5.512-.747.512-.271 0-.338-.186-.338-.46v-5.238h-1.27v5.71c0 .675.206 1.22.887 1.22.384 0 .918-.2 1.468-.853v.754h1.27v-6.831h-1.27zm2.203 13.858c-.448 0-.541.315-.541.763v.659h1.069v-.66c.001-.44-.092-.762-.528-.762zm-4.703.04c-.084.043-.167.109-.25.198v4.055c.099.106.194.182.287.229.197.1.485.107.619-.067.07-.092.105-.241.105-.449v-3.359c0-.22-.043-.386-.129-.5-.147-.193-.42-.214-.632-.107zm4.827-5.195c-2.604-.177-11.066-.177-13.666 0-2.814.192-3.146 1.892-3.167 6.367.021 4.467.35 6.175 3.167 6.367 2.6.177 11.062.177 13.666 0 2.814-.192 3.146-1.893 3.167-6.367-.021-4.467-.35-6.175-3.167-6.367zm-12.324 10.686h-1.363v-7.54h-1.41v-1.28h4.182v1.28h-1.41v7.54zm4.846 0h-1.21v-.718c-.223.265-.455.467-.696.605-.652.374-1.547.365-1.547-.955v-5.438h1.209v4.988c0 .262.063.438.322.438.236 0 .564-.303.711-.487v-4.939h1.21v6.506zm4.657-1.348c0 .805-.301 1.431-1.106 1.431-.443 0-.812-.162-1.149-.583v.5h-1.221v-8.82h1.221v2.84c.273-.333.644-.608 1.076-.608.886 0 1.18.749 1.18 1.631v3.609zm4.471-1.752h-2.314v1.228c0 .488.042.91.528.91.511 0 .541-.344.541-.91v-.452h1.245v.489c0 1.253-.538 2.013-1.813 2.013-1.155 0-1.746-.842-1.746-2.013v-2.921c0-1.129.746-1.914 1.837-1.914 1.161 0 1.721.738 1.721 1.914v1.656z"></path></svg></a> <a href="https://github.com/apache/hop/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon" viewBox="0 0 22 22"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <a id="top"></a> <div class="body"> <div class="nav-container" data-component="dev-manual" data-version="2.8.0"> <aside class="nav"> <div class="panels"> <div class="nav-panel-menu is-active" data-panel="menu"> <nav class="nav-menu"> <h3 class="title"><a href="index.html">Development Documentation</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <a class="nav-link" href="getting-started.html">Getting started</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="upgrading-to-20.html">Plugins Upgrades to 2.x</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="porting-kettle-plugins.html">Porting Kettle plugins</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="metadata-plugins.html">Metadata plugins</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="setup-dev-environment.html">Setting up your development environment</a> </li> <li class="nav-item is-current-page" data-depth="1"> <a class="nav-link" href="integration-testing.html">Integration testing</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="internationalisation.html">Internationalisation (i18n)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="plugin-development.html">Plugins Development</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="plugin-samples.html">Plugins Samples</a> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="svg-files.html">SVG Files</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="start-your-own-plugin.html">Creating your own plugin</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="apache-release/index.html">Apache Release Process</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="apache-release/creating-a-release.html">Creating a Release</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="apache-release/promoting-a-release.html">Promoting a Release</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="apache-release/checking-a-release.html">Checking a Release</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="hopweb/index.html">Hop Web</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="hopweb/developer-guide.html">Hop Web Developer Guide</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="hopweb/hopweb-antipatterns.html">Hop Web Antipatterns</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="sdk/index.html">SDK</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="sdk/hop-sdk.html">The Hop SDK</a> </li> </ul> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title">Development Documentation</span> <span class="version">2.8.0</span> </div> <ul class="components"> <li class="component is-current"> <a class="title" href="../latest/index.html">Development Documentation</a> <ul class="versions"> <li class="version"> <a href="../next/index.html">2.13.0</a> </li> <li class="version is-latest"> <a href="../latest/index.html">2.11.0</a> </li> <li class="version"> <a href="../2.10.0/index.html">2.10.0</a> </li> <li class="version"> <a href="../2.9.0/index.html">2.9.0</a> </li> <li class="version is-current"> <a href="index.html">2.8.0</a> </li> <li class="version"> <a href="../2.7.0/index.html">2.7.0</a> </li> <li class="version"> <a href="../2.6.0/index.html">2.6.0</a> </li> <li class="version"> <a href="../2.5.0/index.html">2.5.0</a> </li> </ul> </li> <li class="component"> <a class="title" href="../../tech-manual/latest/index.html">Technical Documentation</a> <ul class="versions"> <li class="version"> <a href="../../tech-manual/next/index.html">2.13.0</a> </li> <li class="version is-latest"> <a href="../../tech-manual/latest/index.html">2.11.0</a> </li> <li class="version"> <a href="../../tech-manual/2.10.0/index.html">2.10.0</a> </li> <li class="version"> <a href="../../tech-manual/2.9.0/index.html">2.9.0</a> </li> <li class="version"> <a href="../../tech-manual/2.8.0/index.html">2.8.0</a> </li> <li class="version"> <a href="../../tech-manual/2.7.0/index.html">2.7.0</a> </li> <li class="version"> <a href="../../tech-manual/2.6.0/index.html">2.6.0</a> </li> <li class="version"> <a href="../../tech-manual/2.5.0/index.html">2.5.0</a> </li> </ul> </li> <li class="component"> <a class="title" href="../../manual/latest/index.html">User manual</a> <ul class="versions"> <li class="version"> <a href="../../manual/next/index.html">2.13.0 (pre-release)</a> </li> <li class="version is-latest"> <a href="../../manual/latest/index.html">2.11.0</a> </li> <li class="version"> <a href="../../manual/2.10.0/index.html">2.10.0</a> </li> <li class="version"> <a href="../../manual/2.9.0/index.html">2.9.0</a> </li> <li class="version"> <a href="../../manual/2.8.0/index.html">2.8.0</a> </li> <li class="version"> <a href="../../manual/2.7.0/index.html">2.7.0</a> </li> <li class="version"> <a href="../../manual/2.6.0/index.html">2.6.0</a> </li> <li class="version"> <a href="../../manual/2.5.0/index.html">2.5.0</a> </li> <li class="version"> <a href="../../manual/2.4.0/index.html">2.4.0</a> </li> <li class="version"> <a href="../../manual/2.3.0/index.html">2.3.0</a> </li> <li class="version"> <a href="../../manual/2.2.0/index.html">2.2.0</a> </li> <li class="version"> <a href="../../manual/2.1.0/index.html">2.1.0</a> </li> <li class="version"> <a href="../../manual/2.0.0/index.html">2.0.0</a> </li> <li class="version"> <a href="../../manual/1.2.0/index.html">1.2.0</a> </li> <li class="version"> <a href="../../manual/1.1.0/index.html">1.1.0</a> </li> <li class="version"> <a href="../../manual/1.0.0/index.html">1.0.0</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main class="article"> <nav class="toolbar"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Development Documentation</a></li> <li><a href="integration-testing.html">Integration testing</a></li> </ul> </nav> <div class="page-versions"> <button class="version-menu-toggle" title="Show other versions of page">2.8.0</button> <div class="version-menu"> <a class="version" href="../next/integration-testing.html">2.13.0</a> <a class="version" href="../latest/integration-testing.html">2.11.0</a> <a class="version" href="../2.10.0/integration-testing.html">2.10.0</a> <a class="version" href="../2.9.0/integration-testing.html">2.9.0</a> <a class="version is-current" href="integration-testing.html">2.8.0</a> <a class="version" href="../2.7.0/integration-testing.html">2.7.0</a> <a class="version" href="../2.6.0/integration-testing.html">2.6.0</a> <a class="version" href="../2.5.0/integration-testing.html">2.5.0</a> </div> </div> <div class="edit-this-page"><a href="https://github.com/apache/hop/edit/release/2.8.0/docs/hop-dev-manual/modules/ROOT/pages/integration-testing.adoc">Edit this Page</a></div> </nav> <div class="content"> <aside class="toc sidebar" data-title="Contents" data-levels="2"> <div class="toc-menu"></div> </aside> <article class="doc"> <h1 class="page">Integration Testing</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>The Apache Hop team has created an integration testing framework that is being used to test key components of the software. The integration tests run as a daily build on Jenkins and can be found <a href="https://ci-builds.apache.org/job/Hop/job/Hop-integration-tests/">here</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="_adding_tests_to_an_existing_project"><a class="anchor" href="#_adding_tests_to_an_existing_project"></a>Adding tests to an existing project</h2> <div class="sectionbody"> <div class="paragraph"> <p>There are two possible scenarios that you can follow, the first is adding a test to one of the existing projects containing tests. The second scenario is creating a new project.</p> </div> <div class="paragraph"> <p>First start by creating a local clone of the Apache Hop repository, instruction to do this can be found <a href="setup-dev-environment.html" class="xref page">here</a>.</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>Open the Hop gui and add one of the integration testing projects to your gui</p> <div class="paragraph"> <p>In this example we will be opening the <code>transforms</code> project and add an extra test in this project. When the UI asks to add an environment or lifecycle press no, using this is not supported</p> </div> <div class="imageblock"> <div class="content"> <img src="_images/integration-tests-001.png" alt="integration tests 001"> </div> </div> </li> <li> <p>naming convention inside the project</p> <div class="paragraph"> <p>when taking a look inside the project you will see a distinct naming pattern is used. each test consists of one workflow and one or more pipelines to execute the test.</p> </div> <div class="paragraph"> <p>The workflow <strong>must</strong> always start with <code>main-</code> followed by number and a logical explanation of what the test is checking. the pipelines linked to the workflow start with the same number the workflow uses to make a clear distinction which pipelines are linked to which test.</p> </div> <div class="imageblock"> <div class="content"> <img src="_images/integration-tests-002.png" alt="integration tests 002"> </div> </div> <div class="paragraph"> <p>The workflows themselves can be straightforward, the exit code (success/abort) is used to determine if the workflow has passed or failed.</p> </div> <div class="dlist"> <dl> <dt class="hdlist1">note</dt> <dd> <p>You can also make an integration test to test something that must fail. Then you simply link the false hop to a success and the true hop to an abort action.</p> <div class="imageblock"> <div class="content"> <img src="_images/integration-tests-003.png" alt="integration tests 003"> </div> </div> <div class="imageblock"> <div class="content"> <img src="_images/integration-tests-004.png" alt="integration tests 004"> </div> </div> </dd> </dl> </div> </li> <li> <p>create a unit test</p> <div class="paragraph"> <p>Now you can add your own workflow to the project folder. Make sure you have a GitHub Issue number you can refer to when creating a pull request.</p> </div> </li> </ol> </div> </div> </div> <div class="sect1"> <h2 id="_adding_a_new_project"><a class="anchor" href="#_adding_a_new_project"></a>Adding a new project</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can also add a new project to the integration test folder. Give the project a meaningful name that explains the subject you will be testing.</p> </div> <div class="dlist"> <dl> <dt class="hdlist1">important</dt> <dd> <p>the project should have a workflow engine named <code>local</code></p> </dd> </dl> </div> </div> </div> <div class="sect1"> <h2 id="_running_tests_locally"><a class="anchor" href="#_running_tests_locally"></a>Running tests locally</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can also run the integration tests on your local system.</p> </div> <div class="paragraph"> <p>There are 2 ways the integration tests can be run on your local system</p> </div> <div class="sect2"> <h3 id="_docker_compose"><a class="anchor" href="#_docker_compose"></a>Docker Compose</h3> <div class="paragraph"> <p>The entire test suite is available as a docker compose script to use this use following commands. This include all services available and needed for the tests.</p> </div> <div class="admonitionblock tip"> <table> <tr> <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td> <td class="content"> You need version 1.27.0 or higher of docker-compose </td> </tr> </table> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>Clean build HOP</p> <div class="listingblock"> <div class="content"> <pre>cd hop
mvn clean install</pre> </div> </div> </li> <li> <p>Run the Docker Compose script</p> <div class="listingblock"> <div class="content"> <pre>cd integration-tests/scripts
./run-tests-docker.sh

# Optionally you can run a single project by adding the PROJECT_NAME variable to the script

./run-tests-docker.sh  PROJECT_NAME=database</pre> </div> </div> </li> <li> <p>Surefire Reports</p> <div class="paragraph"> <p>We generate xml reports that can be used by Jenkins to generate reports. these result reports can be found in the <code>integration-tests/surefire-reports</code> folder.</p> </div> </li> </ol> </div> </div> <div class="sect2"> <h3 id="_testing_script"><a class="anchor" href="#_testing_script"></a>Testing script</h3> <div class="paragraph"> <p>A script is also provided to run the test without using Docker. This script is also used inside the automated test suite but can be used in a stand alone mode.</p> </div> <div class="paragraph"> <p>This script can be found at following location <code>hop/integration-tests/scripts/run-tests.sh</code>. Be sure to export the needed system variables for the script to find the correct paths to run the tests. You can aslo run a single project by adding the project name to the command <code>./run-tests.sh projectname</code></p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_special_checks"><a class="anchor" href="#_special_checks"></a>Special checks</h2> <div class="sectionbody"> <div class="paragraph"> <p>In some cases you want to check the logs to see if a specific value is present to mark your test as passed or failed. The script used in <code>main-0001-static-partitioning</code> can be helpful.</p> </div> <div class="paragraph"> <p>Code used in JavaScript Action in the workflow:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">var txt = previous_result.getLogText();


var ok = true;

var expectedVariables = [
   "partitioned.0 - Internal.Transform.Partition.ID = P1",
   "partitioned.1 - Internal.Transform.Partition.ID = P2",
   "partitioned.2 - Internal.Transform.Partition.ID = P3"
 ];

for (var i = 0 ; i&lt;expectedVariables.length ; i++) {
  var expectedVariable = expectedVariables[i];
  if ( !txt.contains(expectedVariable)) {
    ok = false;
    log.logError("Expected variable expression '"+expectedVariable+"' was not logged at least once");
  }
}

var expectedValues = [
   "partitioned.1 - id = 1",
   "partitioned.2 - id = 2",
   "partitioned.0 - id = 3",
   "partitioned.1 - id = 4",
   "partitioned.2 - id = 5",
   "partitioned.0 - id = 6",
   "partitioned.1 - id = 7",
   "partitioned.2 - id = 8",
   "partitioned.0 - id = 9",
   "partitioned.1 - id = 10",
 ];

for (var i = 0 ; i&lt;expectedValues.length ; i++) {
  var expectedValue = expectedValues[i];
  if ( !txt.contains(expectedValue)) {
    ok = false;
    log.logError("Value logged as '"+expectedValue+"' was not logged at least once");
  }
}


ok;</code></pre> </div> </div> <div class="paragraph"> <p>This script reads the log returned by the previous pipeline and parses it to search for values.</p> </div> </div> </div> <div class="sect1"> <h2 id="_set_the_hop_license_header_file_project_variable"><a class="anchor" href="#_set_the_hop_license_header_file_project_variable"></a>Set the <code>HOP_LICENSE_HEADER_FILE</code> project variable</h2> <div class="sectionbody"> <div class="paragraph"> <p>All files that are shipped with Apache software need to contain the Apache Software Foundation&#8217;s header.</p> </div> <div class="paragraph"> <p>This also applies to all workflows and pipelines that are shipped as integration tests, samples or in any other form.</p> </div> <div class="paragraph"> <p>To spare contributors the pain of manually having to add the ASF license header in workflows and pipeline, Hop Gui supports the <code>HOP_LICENSE_HEADER_FILE</code> project variable.</p> </div> <div class="paragraph"> <p>Set this variable in your project and point it to a file containing the ASF Header&#8217;s text, e.g. <code>integration-tests/asf-header.txt</code> to let Hop include the ASF header in all of your workflows and pipelines.</p> </div> <div class="paragraph"> <p><span class="image"><img src="_images/hop-license-header-file.png" alt="Hop License Header File variable" width="90%"></span></p> </div> <div class="paragraph"> <p>As with any other piece of code, run <code>mvn apache-rat:check</code> to verify all files contain the correct headers before contributing your test or sample workflows and pipelines.</p> </div> </div> </div> </article> </div> </main> </div> <footer> <div class="footer"> <dl> <dt>Overview</dt> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../manual/latest/">Getting started</a></dd> </dl> <dl> <dt>Community</dt> <dd><a target="_blank" href="https://github.com/apache/hop/issues">GitHub Issues</a></dd> <dd><a target="_blank" href="https://github.com/apache/hop/discussions">GitHub Discussions</a></dd> <dd><a target="_blank" href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> </dl> <p> &copy; 2019-2025 The Hop Team.<br> All marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-8bbb7a5250.js"></script> <script async src="../../_/js/vendor/highlight-a243a7d07e.js"></script> <script async src="../../_/js/vendor/tabs-523d9bca0f.js"></script> <script src="../../_/js/vendor/lunr.js"></script> <script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script> <script async src="../../search-index.js"></script> <!-- Matomo --> <script> var _paq = window._paq = window._paq || [];
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);  
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '11']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })(); </script> <!-- End Matomo Code --> </body> </html> 